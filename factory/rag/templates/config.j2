# RAG Configuration
ingestion:
  source_type: {{ ingestion.source_type }}
  {% if ingestion.sharepoint %}
  sharepoint:
    site_url: {{ ingestion.sharepoint.site_url }}
    tenant_id: {{ ingestion.sharepoint.tenant_id }}
    client_id: {{ ingestion.sharepoint.client_id }}
    client_secret: {{ ingestion.sharepoint.client_secret }}
    folder_path: {{ ingestion.sharepoint.folder_path }}
    recursive: {{ ingestion.sharepoint.recursive }}
  {% endif %}
  chunking:
    method: {{ ingestion.chunking.method }}
    chunk_size: {{ ingestion.chunking.chunk_size }}
    overlap: {{ ingestion.chunking.overlap }}
  metadata:
    fields:
    {% for field in ingestion.metadata.fields %}
    - name: {{ field.name }}
      type: {{ field.type }}
      description: {{ field.description }}
      auto_extract: {{ field.auto_extract }}
      default_value: {{ field.default_value }}
      required: {{ field.required }}
    {% endfor %}
  embeddings:
    model: {{ ingestion.embeddings.model }}

vector_db:
  type: {{ vector_db.type }}
  index_name: {{ vector_db.index_name }}
  distance_metric: {{ vector_db.distance_metric }}

query:
  retrieval_type: {{ query.retrieval_type }}
  top_k: {{ query.top_k }}
  filters: {{ query.filters | tojson if query.filters else None }}
  reranker: {{ query.reranker }}
  context_window: {{ query.context_window }}
